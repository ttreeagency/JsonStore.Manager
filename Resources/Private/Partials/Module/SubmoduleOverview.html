{namespace neos=Neos\Neos\ViewHelpers}
<f:if condition="{documentTypes}">
	<div class="neos-row-fluid">
		<f:for each="{documentTypes}" key="documentTypeName" as="documentType" iteration="iterator">
            <f:if condition="{documentType.privilegeTarget}">
                <f:then>
                    <f:security.ifAccess privilegeTarget="{documentType.privilegeTarget}">
                        <f:render section="submodule" arguments="{_all}" />
                    </f:security.ifAccess>
                </f:then>
                <f:else>
                    <f:render section="submodule" arguments="{_all}" />
                </f:else>
            </f:if>
		</f:for>
	</div>
</f:if>

<f:section name="submodule">
	<div class="neos-span4">
        <f:render partial="Module/Widget" arguments="{documentTypeName: documentTypeName, documentType: documentType}" />
	</div>
	<f:if condition="{iterator.cycle} % 3">
		<f:else>
			<f:if condition="{iterator.isLast}">
				<f:else>
					</div><div class="neos-row-fluid">
				</f:else>
			</f:if>
		</f:else>
	</f:if>
</f:section>
